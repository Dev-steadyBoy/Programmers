### [1ì°¨] ìºì‹œ

---

###### ðŸ¤“ë¬¸ì œ ì„¤ëª…

ì§€ë„ê°œë°œíŒ€ì—ì„œ ê·¼ë¬´í•˜ëŠ” ì œì´ì§€ëŠ” ì§€ë„ì—ì„œ ë„ì‹œ ì´ë¦„ì„ ê²€ìƒ‰í•˜ë©´ í•´ë‹¹ ë„ì‹œì™€ ê´€ë ¨ëœ ë§›ì§‘ ê²Œì‹œë¬¼ë“¤ì„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì½ì–´ ë³´ì—¬ì£¼ëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ê³  ìžˆë‹¤.
ì´ í”„ë¡œê·¸ëž¨ì˜ í…ŒìŠ¤íŒ… ì—…ë¬´ë¥¼ ë‹´ë‹¹í•˜ê³  ìžˆëŠ” ì–´í”¼ì¹˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì˜¤í”ˆí•˜ê¸° ì „ ê° ë¡œì§ì— ëŒ€í•œ ì„±ëŠ¥ ì¸¡ì •ì„ ìˆ˜í–‰í•˜ì˜€ëŠ”ë°, ì œì´ì§€ê°€ ìž‘ì„±í•œ ë¶€ë¶„ ì¤‘ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„ì˜ ì‹¤í–‰ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ëž˜ ê±¸ë¦°ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
ì–´í”¼ì¹˜ëŠ” ì œì´ì§€ì—ê²Œ í•´ë‹¹ ë¡œì§ì„ ê°œì„ í•˜ë¼ê³  ë‹¦ë‹¬í•˜ê¸° ì‹œìž‘í•˜ì˜€ê³ , ì œì´ì§€ëŠ” DB ìºì‹œë¥¼ ì ìš©í•˜ì—¬ ì„±ëŠ¥ ê°œì„ ì„ ì‹œë„í•˜ê³  ìžˆì§€ë§Œ ìºì‹œ í¬ê¸°ë¥¼ ì–¼ë§ˆë¡œ í•´ì•¼ íš¨ìœ¨ì ì¸ì§€ ëª°ë¼ ë‚œê°í•œ ìƒí™©ì´ë‹¤.

ì–´í”¼ì¹˜ì—ê²Œ ì‹œë‹¬ë¦¬ëŠ” ì œì´ì§€ë¥¼ ë„ì™€, DB ìºì‹œë¥¼ ì ìš©í•  ë•Œ ìºì‹œ í¬ê¸°ì— ë”°ë¥¸ ì‹¤í–‰ì‹œê°„ ì¸¡ì • í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤.

##### ðŸ¤“ì œí•œ ì¡°ê±´

- ìºì‹œ êµì²´ ì•Œê³ ë¦¬ì¦˜ì€ LRU(Least Recently Used)ë¥¼ ì‚¬ìš©í•œë‹¤.
- cache hitì¼ ê²½ìš° ì‹¤í–‰ì‹œê°„ì€ 1ì´ë‹¤.
- cache missì¼ ê²½ìš° ì‹¤í–‰ì‹œê°„ì€ 5ì´ë‹¤.

##### ðŸ¤“ìž…ì¶œë ¥ ì˜ˆ

| cacheSize | cities                                                                                   | return |
| --------- | ---------------------------------------------------------------------------------------- | ------ |
| 3         | ["Jeju", "Pangyo", "Seoul", "NewYork", "LA", "Jeju", "Pangyo", "Seoul", "NewYork", "LA"] | 50     |

## ðŸ¤“ë¬¸ì œ í’€ì´ ë°©ë²•

```javascript
class LRUCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.cache = new Map();
    this.operatingTime = 0;
  }

  put(key, value = 1) {
    if (this.cache.has(key)) {
      this.cache.delete(key);
      this.operatingTime += 1;
    } else if (this.cache.size >= this.capacity) {
      const oldestKey = this.cache.keys().next().value;
      this.cache.delete(oldestKey);
      this.operatingTime += 5;
    } else {
      this.operatingTime += 5;
    }

    if (this.cache.size < this.capacity) {
      this.cache.set(key, value);
    }
  }
}

function solution(cacheSize, cities) {
  const cache = new LRUCache(cacheSize);
  cities.forEach((v) => {
    cache.put(v.toLowerCase());
  });
  return cache.operatingTime;
}
// LRU ê°€ìž¥ ì˜¤ëž«ë™ì•ˆ ì°¸ì¡°ë˜ì§€ ì•Šì€ íŽ˜ì´ì§€ë¥¼ êµì²´í•˜ëŠ” ë°©ì‹ì´ë‹¤.
// ì´ì¤‘ ì—°ê²°ë¦¬ìŠ¤íŠ¸ êµ¬í˜„í•´ì•¼í•¨
// tailì— ê°€ê¹Œìš¸ ë•Œ cache size overheadê°€ ì¼ì–´ë‚˜ë©´ tailì˜ cityë¥¼ deleteí•˜ìž
// cache hitì€ cpuê°€ ì°¸ì¡°í•˜ë ¤ëŠ” ë©”ëª¨ë¦¬ê°€ ìºì‹œì— ì¡´ìž¬í•  ë•Œ
```

```javascript
// í¬...
function solution(cacheSize, cities) {
  const MISS = 5,
    HIT = 1;

  if (cacheSize === 0) return MISS * cities.length;

  let answer = 0,
    cache = [];

  cities.forEach((city) => {
    city = city.toUpperCase();

    let idx = cache.indexOf(city);

    if (idx > -1) {
      cache.splice(idx, 1);
      answer += HIT;
    } else {
      if (cache.length >= cacheSize) cache.shift();
      answer += MISS;
    }

    cache.push(city);
  });

  return answer;
}
```
